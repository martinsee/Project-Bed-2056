---
title: "Prosjekt"
author: "Martin & Chris"
date: "11/28/2018"
output: html_document
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)

library(readr)
library(tidyr)
library(dplyr)
library(tidyverse)
library(readxl)

```


```{r cars}
##  Data Innhenting USA børser 

sp500 <- read_csv("data/^GSPC.csv", col_types = cols(Date = col_date(format = "%Y-%m-%d")))

colnames(sp500) <-   c("Dato", "Open", "High", "Low", "Close",  "Adj.Close", "Volume")

#colnames(sp500)

nasdaq <- read_csv("data/NASDAQ.Composite.1970-2018.csv", 
    col_types = cols(Date = col_date(format = "%Y-%m-%d")))

colnames(nasdaq) <- c("Dato", "Open", "High", "Low", "Close",  "Adj.Close", "Volume")

#colnames(nasdaq)

dowj <- read_csv("data/Dow Jones Industrial Average 1970-2018.csv", 
    col_types = cols(Date = col_date(format = "%Y-%m-%d")))

colnames(dowj) <- c("Dato", "Open", "High", "Low", "Close",  "Adj.Close", "Volume")

#colnames(dowj)


ggplot() + 
geom_line(data=nasdaq, aes(x=Dato, y=Adj.Close), color='green')+ 
geom_line(data=sp500, aes(x=Dato, y=Adj.Close), color='red')+
geom_line(data=dowj, aes(x=Dato, y=Adj.Close), color='blue') 



```



```{r pressure, echo=FALSE}

### Eiendom priser 
#oecd.hus <- read_csv("DP_LIVE_27112018111628959.csv")
#oecd.hus <- filter(oecd.hus, SUBJECT == "NOMINAL")
#oecd.hus <- filter(oecd.hus, FREQUENCY == "Q")
#oecd.hus$TIME <- str_replace(oecd.hus$TIME, "Q1", "01-01") 
#oecd.hus$TIME <- str_replace(oecd.hus$TIME, "Q2", "01-04") 
#oecd.hus$TIME <- str_replace(oecd.hus$TIME, "Q3", "01-07") 
#oecd.hus$TIME <- str_replace(oecd.hus$TIME, "Q4", "01-10") 
#oecd.hus$TIME <- as.Date(oecd.hus$TIME, "%Y-%m-%d")
#colnames(oecd.hus[6]) <- "Dato"
#colnames(oecd.hus)

#ggplot(oecd.hus) +
#geom_line(aes(x=TIME, y= Value)) 

# Data sett med månedlig eiendom data 

eiendom <- read_excel("data/eiendomnorge.no-oktober-2018-sesongjustert-oktober-2018-2018-11-05_07-32-05_738057.xlsx")

colnames(eiendom) <- c("Dato", "nominell", "korrigert")

colnames(eiendom)


ggplot(eiendom) +
geom_line(aes(x=Dato, y=nominell))  


```


```{r}

# Norges Bank - styringsrente


renter <- read_excel("data/renter_mnd.xlsx",
    col_types = c("date", "text", "text", 
        "text", "text", "text", "text", "text", 
        "text", "text", "text", "text", "text"))

renter[3:13] <- NULL 

renter <- na.omit(renter)

colnames(renter) <- c("Dato", "styringsrente")

colnames(renter)


plot(renter$Dato, renter$styringsrente, type = "l")


# FED - USA renter 

usa.rente <- read_csv("data/FEDFUNDS.csv")

colnames(usa.rente) <- c("Dato", "styringsrente.usa")

# colnames(usa.rente)

#str(usa.rente)



```


Note that the `echo = FALSE` parameter was added to the code chunk to prevent printing of the R code that generated the plot.

```{r}

DOWogSP <- bind_cols(dowj$Adj.Close, sp500$Adj.Close, by= "Dato")

### styringsrenten ville ikke plottes, muligens pga andre antallobservasjoner

ggplot() + 
geom_line(data=nasdaq, aes(x=Dato, y=Adj.Close), color='green')+ 
geom_line(data=sp500, aes(x=Dato, y=Adj.Close), color='red')+
geom_line(data=dowj, aes(x=Dato, y=Adj.Close), color='blue') 
geom_line(data=usa.rente, aes(x=Dato, y=styringsretna.usa), color='organge') 



```

